<!DOCTYPE html>
<html>
<head>
    <title>Current Month Bookings</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <style>
      .bookings-card {
    width: 80%; /* Adjust as needed */
    margin: 20px auto;
    }

    #bookings-table-body tr td {
      text-align: center;
    }
    </style>
</head>
<body>
  <div class="mdl-card mdl-shadow--2dp bookings-card">
        <div class="mdl-card__title">
            <h2 class="mdl-card__title-text">Current Month Bookings</h2>
        </div>
        <div class="mdl-card__supporting-text">
            <table class="mdl-data-table mdl-js-data-table">
                <thead>
                    <tr>
                        <th class="mdl-data-table__cell--non-numeric">Name</th>
                        <th>Phone</th>
                        <th>Age</th>
                        <th>Gender</th>
                        <th>Date</th>
                        <th>Extra People</th>
                    </tr>
                </thead>
                <tbody id="bookings-table-body">
                    </tbody>
            </table>
        </div>
    </div>
    <script >
      const bookingsTableBody = document.getElementById('bookings-table-body');

function displayCurrentMonthBookings() {
    const bookings = JSON.parse(localStorage.getItem('bookings')) || [];
    const currentDate = new Date();
    const currentMonth = currentDate.getMonth();
    const currentYear = currentDate.getFullYear();

    bookingsTableBody.innerHTML = ''; // Clear existing bookings

    const currentMonthBookings = bookings.filter(booking => {
        const bookingDate = new Date(booking.date);
        return bookingDate.getMonth() === currentMonth && bookingDate.getFullYear() === currentYear;
    });

    currentMonthBookings.forEach(booking => {
        const row = bookingsTableBody.insertRow();
        const nameCell = row.insertCell();
        const phoneCell = row.insertCell();
        const ageCell = row.insertCell();
        const genderCell = row.insertCell();
        const dateCell = row.insertCell();
        const extraPeopleCell = row.insertCell();


        nameCell.textContent = booking.name;
        phoneCell.textContent = booking.phone;
        ageCell.textContent = booking.age;
        genderCell.textContent = booking.gender;
        dateCell.textContent = booking.date;

        let extraPeopleText = "";
        booking.extraPeople.forEach(person => {
            extraPeopleText += `${person.age}, ${person.gender}<br>`;
        });
        extraPeopleCell.innerHTML = extraPeopleText; // Use innerHTML for line breaks

    });
}


displayCurrentMonthBookings(); // Call the function to display bookings when the page loads
    </script>
</body>
</html>